# üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Rust –¥–ª—è NFT –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

## ‚ö†Ô∏è –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

```
error: rustc 1.78.0 is not supported
solana-program@2.3.0 requires rustc 1.79.0
```

**–£ –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Rust 1.78.0, –Ω–æ –Ω—É–∂–µ–Ω Rust 1.79.0+**

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å Rust

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å Rust

```powershell
# –í PowerShell –≤—ã–ø–æ–ª–Ω–∏:
rustup update
```

–≠—Ç–æ –æ–±–Ω–æ–≤–∏—Ç Rust –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (1.80+).

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é

```powershell
rustc --version
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: rustc 1.79.0 –∏–ª–∏ –≤—ã—à–µ
```

### –®–∞–≥ 3: –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à

```powershell
cd "C:\NEW proekt\programs\tamagotchi"
cargo clean
```

### –®–∞–≥ 4: –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Metaplex

#### –í `Cargo.toml`:

```toml
[dependencies]
anchor-lang = "0.31.1"
anchor-spl = "0.31.1"
mpl-token-metadata = "5.0.0-beta.0" # <-- —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —ç—Ç—É —Å—Ç—Ä–æ–∫—É
```

#### –í `lib.rs` (–Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞):

```rust
use anchor_lang::prelude::*;
use anchor_lang::solana_program::program::invoke;
use anchor_spl::token::{self, Burn, Mint, MintTo, Token, TokenAccount};
use anchor_spl::associated_token::AssociatedToken;

// –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:
use mpl_token_metadata::{
    ID as TOKEN_METADATA_ID,
    instructions::CreateV1CpiBuilder,
    types::{Creator, TokenStandard},
};
```

#### –í —Ñ—É–Ω–∫—Ü–∏–∏ `create_pet_nft()` —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –±–ª–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:

–ù–∞–π–¥–∏ –±–ª–æ–∫ —Å TODO –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è Metaplex –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.

### –®–∞–≥ 5: –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç

```powershell
cd "C:\NEW proekt"
anchor build
```

---

## üöÄ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –æ–±–Ω–æ–≤–ª—è—Ç—å Rust –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, –∏—Å–ø–æ–ª—å–∑—É–π **–±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ NFT**:

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –£–ñ–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ wallet address)  
‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏  
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è DNA  
‚úÖ –°–∂–∏–≥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤  
‚úÖ –í—Å–µ –∏–≥—Ä–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
‚úÖ On-chain —Ö—Ä–∞–Ω–µ–Ω–∏–µ  

‚ùå –ù–æ **–ù–ï–¢** –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö NFT (–ø–æ–∫–∞)

### –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```rust
// –§—É–Ω–∫—Ü–∏—è create_pet() —Å–æ–∑–¥–∞–µ—Ç –ø–∏—Ç–æ–º—Ü–∞ –ë–ï–ó NFT
pub fn create_pet(ctx: Context<CreatePet>) -> Result<()>

// –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç:
pub fn feed_pet()
pub fn play_with_pet()
pub fn heal_pet()
pub fn rest_pet()
```

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Rust:

```rust
// –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è create_pet_nft() —Å–æ–∑–¥–∞—Å—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π NFT
pub fn create_pet_nft(ctx: Context<CreatePetNFT>, name: String, uri: String)

// NFT –±—É–¥–µ—Ç:
// ‚úÖ –í–∏–¥–µ–Ω –≤ Phantom –∫–æ—à–µ–ª—å–∫–µ
// ‚úÖ –¢–æ—Ä–≥—É–µ—Ç—Å—è –Ω–∞ Magic Eden
// ‚úÖ –ò–º–µ–µ—Ç Metaplex –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
// ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º —Å–æ –≤—Å–µ–º–∏ NFT –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π:

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è (Rust 1.78):

| –§–∏—á–∞ | –°—Ç–∞—Ç—É—Å |
|------|--------|
| –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã | ‚úÖ |
| –°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏ | ‚úÖ |
| Burn —Ç–æ–∫–µ–Ω–æ–≤ | ‚úÖ |
| On-chain –¥–∞–Ω–Ω—ã–µ | ‚úÖ |
| Metaplex NFT | ‚ùå |
| –¢–æ—Ä–≥–æ–≤–ª—è –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö | ‚ùå |
| –ü–æ–∫–∞–∑ –≤ Phantom | ‚ùå |

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Rust 1.79+):

| –§–∏—á–∞ | –°—Ç–∞—Ç—É—Å |
|------|--------|
| –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã | ‚úÖ |
| –°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏ | ‚úÖ |
| Burn —Ç–æ–∫–µ–Ω–æ–≤ | ‚úÖ |
| On-chain –¥–∞–Ω–Ω—ã–µ | ‚úÖ |
| Metaplex NFT | ‚úÖ |
| –¢–æ—Ä–≥–æ–≤–ª—è –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö | ‚úÖ |
| –ü–æ–∫–∞–∑ –≤ Phantom | ‚úÖ |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–π—á–∞—Å:

```powershell
# –ò—Å–ø–æ–ª—å–∑—É–π —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
anchor build  # –°–æ–±–µ—Ä–µ—Ç –±–µ–∑ NFT
anchor deploy --provider.cluster devnet
```

### –î–ª—è production –∑–∞–ø—É—Å–∫–∞:

```powershell
# 1. –û–±–Ω–æ–≤–∏ Rust
rustup update

# 2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π Metaplex –∫–æ–¥
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–π Cargo.toml –∏ lib.rs

# 3. –°–æ–±–µ—Ä–∏ —Å NFT
anchor build
anchor deploy --provider.cluster mainnet-beta
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Rust
rustc --version

# –û–±–Ω–æ–≤–∏—Ç—å Rust
rustup update

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é
cargo check

# –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç
anchor build

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
cargo clean

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cargo tree
```

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Rust:**
   ```powershell
   rustup self uninstall
   # –ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–Ω–æ–≤–∞ —Å https://rustup.rs
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å Anchor:**
   ```powershell
   cargo install --git https://github.com/coral-xyz/anchor anchor-cli --locked
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å PATH:**
   - –£–±–µ–¥–∏—Å—å —á—Ç–æ Rust –∏ Anchor –≤ PATH
   - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ PowerShell

---

## ‚úÖ –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Rust:

1. ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π mpl-token-metadata –≤ Cargo.toml
2. ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π use statements –≤ lib.rs
3. ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∫–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
4. ‚úÖ `cargo clean && anchor build`
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ devnet
6. üöÄ Deploy –Ω–∞ mainnet!

---

## üéâ –ò—Ç–æ–≥–æ:

**–°–ï–ô–ß–ê–°:** –†–∞–±–æ—Ç–∞–µ—Ç –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–±–µ–∑ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö NFT)  
**–ü–û–°–õ–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ NFT —Å Metaplex!

**–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—á–∏–µ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

